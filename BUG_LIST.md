# QA教育用Todoアプリ - 意図的なバグ一覧（サーバー連携版）

本アプリはQA/テスター教育のために意図的にバグが仕込まれたFlutterアプリです。
サーバー連携環境で発生しうる様々なバグを含み、実務に近いテスト体験を提供します。

## 🟢 簡単なバグ（7件）

### Bug#1: UIのタイポ
- **場所**: `lib/screens/login_screen.dart:97`
- **内容**: 「会員登録」→「会院登録」タイポ
- **テスト方法**: 会員登録タブのテキストを確認

### Bug#2: パスワードフィールドのセキュリティ
- **場所**: `lib/screens/login_screen.dart:140`
- **内容**: ログイン画面でパスワードが平文で見える（obscureText: false）
- **テスト方法**: ログイン画面でパスワード入力時にテキストが見えるか確認

### Bug#3: 空タイトル処理
- **場所**: `lib/models/todo_model.dart:102`
- **内容**: Todoタイトルが空のとき「新しいタスク」というダミーテキストが自動追加される
- **テスト方法**: 空タイトルでTodo追加を試す

### Bug#4: 削除確認なし
- **場所**: `lib/screens/todo_screen.dart:189` + `lib/models/todo_model.dart:160`
- **内容**: Todo削除時に確認ダイアログなしで即削除される
- **テスト方法**: Todo削除ボタンをクリック

### Bug#5: 完了表示スタイル
- **場所**: `lib/screens/todo_screen.dart:166`
- **内容**: 完了したTodoが取り消し線ではなく太字で表示される
- **テスト方法**: Todo完了チェック後のテキストスタイルを確認

### Bug#6: ボタン重複
- **場所**: `lib/screens/todo_screen.dart:204`
- **内容**: FloatingActionButtonと上部追加ボタンが同じ機能で重複
- **テスト方法**: UI上で同じ機能のボタンが2つあるか確認

### Bug#7: 画面回転時のUIレイアウト崩れ
- **場所**: `lib/screens/todo_screen.dart:84-110`
- **内容**: 縦向きから横向きに回転時、上部入力エリアのボタンが画面外や重なって表示される
- **テスト方法**: Todo一覧画面でデバイスを横向きにしてUIレイアウトを確認

## 🟡 中程度のバグ（9件）

### Bug#8: Todoがn個から0個になった場合、チケットない画面の表示が行われない。
- **場所**: `lib/screens/login_screen.dart` + サーバー側検証なし
- **内容**: チケットが０個になった場合、最初と異なる画面が表示される。
- **テスト方法**: チケットを１個作成し、削除する。

### Bug#9: 重複メール許可
- **場所**: `lib/models/user_model.dart:55,66` + サーバー側
- **内容**: サーバーでメール重複チェックを常に省略
- **テスト方法**: 同じメールで複数回会員登録を試す

### Bug#10: パスワード確認検証なし
- **場所**: `lib/models/user_model.dart:56,62`
- **内容**: 会員登録時にパスワードと確認用パスワードが一致するか検証しない
- **テスト方法**: 異なるパスワードで会員登録を試す

### Bug#11: ネットワーク失敗時の無限ローディング
- **場所**: `lib/models/user_model.dart:25,47` + `lib/screens/login_screen.dart:36`
- **内容**: ログイン時ネットワーク失敗でローディングが続き、エラーメッセージや再試行オプションがない
- **テスト方法**: WiFi/データ通信を切ってログインを試し、無限ローディング状態を確認

### Bug#12: パスワード確認のエラーメッセージが赤色になっている(易)
- **場所**: `lib/models/login_screen.dart:102`
- **内容**: 会員登録の確認用パスワードだけ、文字数制限に到達したらSnackBarが赤に表示される。
- **テスト方法**: 確認用パスワード欄に境界値テストを行う。

### Bug#13: 編集キャンセル時の誤動作
- **場所**: `lib/models/todo_model.dart:221`
- **内容**: Todo編集キャンセル時、編集中の内容が保存されてしまう（キャンセルなのに保存）
- **テスト方法**: Todo編集後にキャンセルボタンをクリック

### Bug#14: 長いタイトルのUIオーバーフロー
- **場所**: `lib/screens/todo_screen.dart:161`
- **内容**: Todoタイトルが17文字以上のとき、テキストがUI枠を超えて表示される
- **テスト方法**: 「これはとても長いタスクタイトルです。はみ出します」など長いタイトルでTodo作成

### Bug#15: ネットワーク失敗時エラーメッセージ非表示
- **場所**: `lib/models/todo_model.dart:130`
- **内容**: Todo追加/編集/削除失敗時、ユーザーにエラーメッセージを表示しない
- **テスト方法**: サーバー接続を切ってTodo操作を試す

### Bug#16: 編集失敗時ロールバックなし
- **場所**: `lib/models/todo_model.dart:210`
- **内容**: Todo編集時サーバー保存失敗でも前のタイトルに戻らない
- **テスト方法**: サーバー接続を切ってTodo編集後リロード

## 🔴 難しいバグ（同時性/性能/境界値）（4件）

### Bug#17: パスワード平文送信
- **場所**: `lib/services/auth_service.dart:13,79`
- **内容**: パスワードをハッシュせず平文でサーバーに送信
- **テスト方法**: ネットワークトラフィックをモニタリング

### Bug#18: 同時Todo追加時の重複リクエスト
- **場所**: `lib/models/todo_model.dart:112` + `lib/screens/todo_screen.dart:25`
- **内容**: 高速で連続してTodo追加時、サーバーに重複リクエストが送信される場合がある
- **テスト方法**: 非常に速くTodoを連続追加

### Bug#19: メモリリーク
- **場所**: `lib/models/todo_model.dart:234` + `lib/screens/todo_screen.dart:121`
- **内容**: Todoが20件以上のとき性能問題発生（意図的なメモリリーク）
- **テスト方法**: Todoを20件以上作成しアプリ性能を確認

### Bug#20: サーバーエラーメッセージ露出
- **場所**: `lib/services/auth_service.dart:33,94`
- **内容**: サーバーから受け取ったエラーメッセージをそのままユーザーに表示
- **テスト方法**: 誤ったログイン情報で試し、エラーメッセージを確認


## 📝 サーバー連携環境テストガイド

### ネットワーク関連テスト:
1. **接続失敗シナリオ**: WiFi/データ通信を切って各機能をテスト
2. **遅いネットワーク**: ネットワーク速度制限でタイムアウトをテスト
3. **サーバーダウン**: サーバー停止後のアプリ動作確認
4. **部分的接続失敗**: 特定APIのみ失敗する状況をテスト

### 同時性テスト:
1. **高速連続操作**: ボタン連打、高速入力など
2. **マルチデバイス**: 同じアカウントで複数端末同時利用
3. **バックグラウンド/フォアグラウンド**: アプリ切替中のネットワークリクエスト処理

### データ一貫性テスト:
1. **楽観的更新**: UI先行変更後サーバー失敗シナリオ
2. **データ同期**: アプリ再起動後サーバーデータと一致するか
3. **オフライン/オンライン**: ネットワーク状態変更時のデータ処理

### セキュリティテスト:
1. **ネットワークトラフィック解析**: 送信データを確認
2. **入力値検証**: 特殊文字、長文など境界値テスト
3. **認証トークン**: トークン有効期限・偽造などテスト

### バグレポート作成時の記載事項:
- ネットワーク状態（オンライン/オフライン/遅い）
- サーバー応答時間・ステータスコード
- クライアントログ・サーバーログ
- データ一貫性確認結果
- 再現手順（ネットワーク条件含む）
- 期待動作 vs 実際動作（サーバー連携観点）

**バグ総数: 20件**（簡単7件、中程度10件、難しい3件） 